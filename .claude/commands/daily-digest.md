---
description: "Generate daily summary of tasks, projects, and people follow-ups"
auto_run: true
---

Generate a daily summary of tasks, active projects, and people follow-ups.

## Configuration

Read `~/source/second_brain/config.yaml` (and `config.local.yaml` if it exists) to get:
- **vault**: `paths.vault` - Obsidian vault root
- **Tasks**: `{vault}/Tasks/`
- **Projects**: `{vault}/Projects/`
- **People**: `{vault}/Knowledge/People/`
- **Output**: `{vault}/Reports/` (digests go to Reports folder)
- **recipient**: `handles[0]` - iMessage recipient for notifications

## Instructions

1. **Gather Tasks**
   - Read all files in `Tasks/`
   - Look for `due_date` in frontmatter
   - Identify: overdue tasks, tasks due today, tasks due this week

2. **Gather Active Projects**
   - Read project folders in `Projects/`
   - Look for files with `status: active` or recent activity
   - Extract `next_action` if present

3. **Gather People Follow-ups**
   - Read files in `Knowledge/People/`
   - Look for `follow_ups` field in frontmatter or content
   - Identify any pending follow-ups

4. **Generate Digest**
   - Create file: `Second Brain/Reports/Daily-Digest-{YYYYMMDD}.md` (relative to vault root)
   - Use the format below
   - Keep it concise (under 150 words in the body)

5. **Prioritize Content**
   - Top 3 most important/urgent actions
   - Overdue items first
   - Items with explicit due dates before open-ended ones

6. **Send Notification (REQUIRED)**
   - Get recipient from config: `handles[0]`
   - Get vault name from config: last component of `paths.vault` (e.g., "/path/to/scott" â†’ "scott")
   - **Execute this bash command** to send iMessage notification:
   ```bash
   osascript -e 'tell application "Messages" to send "[SB] Daily digest ready: obsidian://open?vault={vault_name}&file=Second%20Brain%2FReports%2FDaily-Digest-{YYYYMMDD}" to participant "{recipient}" of account id (id of 1st account whose service type = iMessage)'
   ```
   - Replace `{vault_name}` with the vault name, `{YYYYMMDD}` with today's date, `{recipient}` with the handle
   - URL-encode the vault name if it contains spaces
   - The `[SB]` prefix prevents this message from being captured as an inbox item

## Output Format

```markdown
---
type: daily-digest
generated: {ISO timestamp}
date: {YYYYMMDD}
---

# Daily Digest - {Month Day, Year}

## Top 3 Actions Today

1. {Most important/urgent action}
2. {Second priority}
3. {Third priority}

## Tasks Due

| Task | Due | Status |
|------|-----|--------|
| {task name} | {date} | {overdue/today/this week} |

## Active Projects

- **{Project Name}**: {next action or status}

## People to Connect With

- **{Person}**: {follow-up reminder}

## Watch Out For

{One thing that might be stuck, overdue, or getting neglected}

---
*Generated by Second Brain Daily Digest*
```

## Guidelines

- **Be specific and actionable**, not motivational
- **Prioritize overdue items** and concrete next actions
- **If there's nothing in a section, omit it entirely**
- Keep language direct and practical

$ARGUMENTS
